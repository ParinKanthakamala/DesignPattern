![img](assets/proxy/proxy.png)

# Proxy
Provide a surrogate or placeholder for another object to control access to it.

## üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á pattern ‡∏ô‡∏µ‡πâ
‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô‡∏Ç‡∏≠‡∏á object ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏°‡∏±‡∏ô ‡∏î‡πâ‡∏ß‡∏¢ object ‡∏≠‡∏µ‡∏Å‡∏ï‡∏±‡∏ß ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á object ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á

## ‚úå ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏™‡∏±‡πâ‡∏ô‡πÜ
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á interface ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö service
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á concrete service
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á proxy ‡∏ó‡∏µ‡πà implement interface ‡∏ô‡∏±‡πâ‡∏ô ‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö concrete service ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠
1. ‡πÄ‡∏°‡∏∑‡πà‡∏≠ client ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ service ‡πÉ‡∏´‡πâ‡∏™‡πà‡∏á proxy object ‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ó‡∏ô

## üò¢ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤
‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ß‡∏±‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏Å‡∏±‡∏ö‡∏´‡∏•‡πà‡∏ß‡∏á‡∏û‡πà‡∏≠ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ library ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô database ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏¢‡∏≠‡∏∞‡∏°‡∏≤‡∏Å ‡πÅ‡∏•‡∏∞‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ï‡πà‡∏≠ database ‡∏ö‡∏≤‡∏á‡∏ó‡∏µ‡∏°‡∏±‡∏ô‡∏Å‡πá‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏õ‡∏ï‡πà‡∏≠ database ‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡πÅ‡∏Ñ‡πà‡πÄ‡∏≠‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÑ‡∏ß‡πâ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ó‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ ‡πÅ‡∏•‡∏∞‡πÉ‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡πÜ‡∏à‡∏∏‡∏î‡∏Å‡πá‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡∏á‡∏≤‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏Å‡πà‡∏≠‡∏ô/‡∏´‡∏•‡∏±‡∏á query ‡∏≠‡∏µ‡∏Å‡∏î‡πâ‡∏ß‡∏¢

![img](assets/proxy/problem.png)

‡∏´‡∏•‡∏ß‡∏á‡∏û‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏ü‡∏±‡∏á‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∂‡∏á‡∏ó‡∏£‡∏á‡∏ï‡∏£‡∏±‡∏™‡∏ß‡πà‡∏≤ ‡πÇ‡∏¢‡∏°‡∏£‡∏π‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ database ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏±‡∏ô‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£ ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡πÄ‡∏õ‡πá‡∏ô Lazy Initialization ‡πÑ‡∏ß‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞‡∏à‡πä‡∏∞
> **Lazy Initialization** ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á object ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏±‡∏ô‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ ‡πÑ‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏°‡∏±‡πà‡∏ß‡∏ã‡∏±‡πà‡∏ß‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏ß‡πâ‡πÄ‡∏£‡∏µ‡πà‡∏¢‡∏£‡∏≤‡∏î ‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö ‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏ô‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£ (‡∏´‡∏•‡∏ß‡∏á‡∏û‡πà‡∏≠‡∏ó‡πà‡∏≤‡∏ô‡∏ù‡∏≤‡∏Å‡∏ö‡∏≠‡∏Å‡∏°‡∏≤)

‡πÅ‡∏•‡∏∞‡∏ó‡πà‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡∏ä‡∏µ‡πâ‡πÅ‡∏ô‡∏∞‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏≠‡∏µ‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ß‡πà‡∏≤ ‡∏ñ‡πâ‡∏≤‡πÇ‡∏¢‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏≠‡∏á ‡∏´‡∏£‡∏∑‡∏≠ ‡∏°‡∏µ‡πÇ‡∏Ñ‡πâ‡∏ó‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏Å‡πà‡∏≠‡∏ô/‡∏´‡∏•‡∏±‡∏á query ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏≠‡∏á‡∏ô‡∏±‡πâ‡∏ô ‡∏°‡∏±‡∏ô‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏Ç‡∏≠‡∏á‡πÇ‡∏¢‡∏°‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô 

‡πÇ‡∏¢‡∏°‡∏•‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡∏î‡∏π‡∏ô‡∏∞‡∏ñ‡πâ‡∏≤‡∏°‡∏µ dev ‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏≠‡∏≤ library ‡∏Ç‡∏≠‡∏á‡πÇ‡∏¢‡∏°‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏•‡∏∞ ‡πÇ‡∏¢‡∏°‡∏à‡∏∞‡πÑ‡∏õ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÄ‡∏Ç‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏á ‡πÄ‡∏ä‡πà‡∏ô‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á A ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏õ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á A ‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏õ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡∏≤ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡∏≤‡∏Å‡∏±‡∏ô‡∏•‡∏∞

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏ß‡∏á‡∏û‡πà‡∏≠‡∏ï‡∏£‡∏±‡∏™‡∏à‡∏ö ‡πÄ‡∏ì‡∏£‡∏ô‡πâ‡∏≠‡∏¢‡∏≠‡∏¥‡∏Ñ‡∏¥‡∏ß‡∏Å‡πá‡∏û‡∏π‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏ß‡πà‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡πÇ‡∏¢‡∏°‡∏û‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏î‡∏µ‡∏Æ‡∏∞?

## üòÑ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
‡∏´‡∏•‡∏ß‡∏á‡∏û‡πà‡∏≠‡∏°‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏ã‡∏±‡∏Å‡∏û‡∏±‡∏Å ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô "‡∏ñ‡πâ‡∏≤‡∏Å‡∏£‡∏π‡πä‡∏ß‡∏£‡∏π‡πâ ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏£‡∏π‡πä‡∏ß‡∏à‡∏∞‡∏°‡∏≤‡∏ô‡∏µ‡πà‡∏ó‡∏≥‡∏°‡∏≤‡∏¢‡∏ü‡∏£‡∏∞" ‡∏ó‡πà‡∏≤‡∏ô‡πÄ‡∏•‡∏¢‡∏ä‡∏¥‡πà‡∏á‡∏ï‡∏£‡∏±‡∏™‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏ß‡πà‡∏≤ ‡πÇ‡∏¢‡∏°‡∏Å‡πá‡πÉ‡∏ä‡πâ `Proxy pattern` ‡∏î‡∏¥!! (‡∏ú‡∏°‡∏ß‡πà‡∏≤‡∏ß‡∏±‡∏î‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏≠‡∏ô‡πÅ‡∏Ñ‡πà‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏°‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏∞)

‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏≠‡πà‡∏¢‡∏õ‡∏≤‡∏Å‡∏ñ‡∏≤‡∏°‡∏ï‡πà‡∏≠ ‡∏ó‡πà‡∏≤‡∏ô‡∏Å‡πá‡πÇ‡∏ã‡πÇ‡∏•‡πà‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ß‡πà‡∏≤ ‡∏à‡∏≥‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏¢‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏° ‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏ñ‡πâ‡∏≤‡πÄ‡∏ã‡∏¥‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ? ... `Multitier architecture` ‡πÑ‡∏á‡πÇ‡∏¢‡∏°

(‡πÇ‡∏û‡πà‡∏á ... ‡πÄ‡∏™‡∏µ‡∏¢‡∏á ‡∏ä‡∏π‡πÄ‡∏ô‡πá‡∏ô‡∏ã‡∏±‡∏á‡∏ó‡∏≥‡∏ö‡∏≤‡∏ï‡∏£‡∏´‡∏•‡πà‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏≠‡∏∏‡∏ó‡∏≤‡∏ô‡πÅ‡∏ï‡πà‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏î ‡∏î‡∏±‡∏á‡∏Ç‡∏∂‡πâ‡∏ô)

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏´‡∏•‡πà‡∏ß‡∏á‡∏û‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏ï‡∏¥‡πÑ‡∏î‡πâ ‡∏Å‡πá‡∏û‡∏•‡πà‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ß‡πà‡∏≤

‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏´‡πâ‡πÄ‡∏ã‡∏¥‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö client ‡πÑ‡∏î‡πâ‡∏ï‡∏£‡∏á‡πÜ‡∏à‡∏ô‡∏°‡∏±‡∏ô‡∏•‡πà‡∏° ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏´‡∏ï‡∏∏‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏ö‡∏ö‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÇ‡∏¢‡∏°‡∏Å‡πá‡πÅ‡∏Ñ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ã‡∏¥‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏≠‡∏µ‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏Ñ‡∏±‡πà‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á client ‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡πÇ‡∏¢‡∏°‡πÑ‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏ã‡∏¥‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ô‡∏±‡πâ‡∏ô‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡∏ô‡∏∂‡∏á ‡∏ã‡∏∂‡πà‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏ô‡∏µ‡πâ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏†‡∏≤‡∏£‡∏∞‡∏Ç‡∏≠‡∏á‡πÄ‡∏ã‡∏¥‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏ã‡∏¥‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Ñ‡∏±‡πà‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ô‡∏µ‡πâ ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏ö‡∏≠‡∏Å‡∏õ‡∏±‡∏î request ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏≠‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÅ‡∏Å‡πâ request ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏°‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠ ‡πÅ‡∏Å‡πâ response ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡πá‡∏¢‡∏±‡∏á‡πÑ‡∏î‡πâ ‡∏à‡∏≥‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á‡πÇ‡∏¢‡∏°

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏¥‡πà‡∏á‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏≤‡∏ô ‡∏Å‡πá‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏õ‡∏¥‡πä‡∏á!! ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô ‡∏≠‡∏¥‡∏Ñ‡∏¥‡∏ß‡∏ã‡∏±‡∏á‡πÄ‡∏•‡∏¢‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü‡πÄ‡∏≠‡∏≤‡∏°‡∏≤‡∏°‡πà‡∏≤‡∏°‡∏≤‡∏Å‡∏¥‡∏ô ‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏û‡∏π‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏°‡πà‡∏≤‡πÄ‡∏ï‡πá‡∏°‡∏õ‡∏≤‡∏Å‡∏ß‡πà‡∏≤

‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏ß‡∏á‡∏û‡πà‡∏≠‡πÉ‡∏ö‡πâ‡∏°‡∏≤ ‡∏ú‡∏°‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡πÇ‡∏¢‡∏°‡∏û‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á class ‡∏ó‡∏µ‡πà‡∏°‡∏µ interface ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ö class ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠ database ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏ß‡πâ‡∏ô‡∏∞ ‡∏™‡πà‡∏ß‡∏ô‡∏ñ‡πâ‡∏≤‡πÉ‡∏Ñ‡∏£‡∏à‡∏∞‡∏ï‡πà‡∏≠ database ‡∏Å‡πá‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏ú‡πà‡∏≤‡∏ô class ‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏µ‡πâ ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≠ database ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏•‡∏∞ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏ñ‡πâ‡∏≤‡πÇ‡∏¢‡∏°‡∏û‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç query ‡∏Å‡πà‡∏≠‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÉ‡∏´‡πâ client ‡∏Å‡πá‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏á

‡∏û‡∏π‡∏î‡∏à‡∏ö‡∏≠‡∏¥‡∏Ñ‡∏¥‡∏ß‡∏Å‡πá‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ‡∏•‡∏á‡πÉ‡∏ô iPad ‡πÉ‡∏´‡πâ‡∏î‡∏π

![img](assets/proxy/solution.png)

‡∏à‡∏≤‡∏Å‡∏£‡∏π‡∏õ‡∏ô‡∏∞ class ‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏±‡πà‡∏ô‡∏Å‡πá‡∏Ñ‡∏∑‡∏≠ `Proxy` ‡∏ã‡∏∂‡πà‡∏á‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏õ‡∏•‡∏≠‡∏°‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ß‡πà‡∏≤ ‡∏°‡∏±‡∏ô‡∏ô‡∏±‡πà‡∏ô‡πÅ‡∏´‡∏•‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡πà‡∏≠ database ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô client ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ database ‡∏Å‡πá‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö proxy ‡πÑ‡∏õ ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏à‡πâ‡∏≤ proxy ‡∏Å‡πá‡∏à‡∏∞‡πÑ‡∏õ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö class ‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≠ database ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ

‡∏õ‡∏∏‡∏à‡∏â‡∏≤: "‡πÅ‡∏•‡πâ‡∏ß‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏°‡∏≤‡∏Ñ‡∏±‡πà‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£" ‡πÄ‡∏£‡∏≤‡∏ä‡∏¥‡πà‡∏á‡∏ñ‡∏≤‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏à‡∏ö‡∏•‡∏á‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏≠‡∏∞‡πÑ‡∏£

‡∏ß‡∏¥‡∏™‡∏±‡∏ä‡∏ô‡∏≤: ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ñ‡∏∑‡∏≠ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏à‡πâ‡∏≤ proxy ‡∏°‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≤‡∏Å client ‡πÅ‡∏•‡πâ‡∏ß ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡πÑ‡∏õ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏∑‡πà‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÑ‡∏õ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö database ‡∏ï‡πà‡∏≠‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å database ‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏õ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏∑‡πà‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏∑‡∏ô‡πÉ‡∏´‡πâ client ‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏°‡πâ‡πÅ‡∏ï‡πà‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ Lazy Initialization ‡∏Å‡πá‡∏¢‡∏±‡∏á‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏•‡∏∞‡∏Æ‡∏∞

‡πÅ‡∏•‡∏∞‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏≤‡∏°‡πà‡∏≤‡∏Å‡πá‡∏≠‡∏∑‡∏î

## üìå ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á pattern ‡∏ô‡∏µ‡πâ
![img](assets/proxy/structure-indexed.png)

> **‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢**  
**1.Service Interface** - Interface ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ client ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Proxy ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏™‡∏ß‡∏°‡∏£‡∏≠‡∏¢‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ß‡∏¥‡∏™‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ  
**2.Service** - ‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ß‡∏¥‡∏™‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ (‡∏ï‡πâ‡∏≠‡∏á implement **Service Interface**)  
**3.Proxy** - ‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏°‡∏≤‡∏™‡∏ß‡∏°‡∏£‡∏≠‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ß‡∏¥‡∏™‡∏ô‡∏±‡πâ‡∏ô‡πÜ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ execute ‡∏Å‡πà‡∏≠‡∏ô/‡∏´‡∏•‡∏±‡∏á ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ß‡∏¥‡∏™‡πÑ‡∏î‡πâ (‡∏ï‡πâ‡∏≠‡∏á implement **Service Interface**)  
**4.Client** - ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ß‡∏¥‡∏™ ‡∏à‡∏∞‡∏£‡∏π‡πâ‡πÅ‡∏Ñ‡πà‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö **Service Interface** ‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏£‡∏¥‡∏á‡πÜ‡∏ñ‡∏π‡∏Å **Proxy** ‡∏™‡∏ß‡∏°‡∏£‡∏≠‡∏¢‡∏°‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ó‡∏ô

## üõ† ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
‡∏™‡∏°‡∏°‡∏∏‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ó‡∏≥ Service ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏£‡∏π‡∏õ‡∏à‡∏≤‡∏Å hardisk ‡∏ã‡∏∂‡πà‡∏á ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å hardisk ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£ ‡πÄ‡∏£‡∏≤‡πÄ‡∏•‡∏¢‡∏à‡∏∞‡πÉ‡∏ä‡πâ Lazy Initialization ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏ä‡πà‡∏ß‡∏¢ ‡πÑ‡∏õ‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á code ‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢

## üëç ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ
* ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ö service object ‡πÑ‡∏î‡πâ ‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà client ‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ï‡∏±‡∏ß
* ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ö life cycle ‡∏Ç‡∏≠‡∏á service ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏î‡πâ ‡πÄ‡∏°‡∏∑‡πà‡∏≠ client ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß
* Proxy ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß service ‡∏à‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
* ‡πÄ‡∏õ‡πá‡∏ô Open/Closed Principle

## üëé ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢
* ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ä‡πâ‡∏≤‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏±‡∏ô‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô 2 ‡∏ï‡πà‡∏≠
* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏õ‡∏™‡∏£‡πâ‡∏≤‡∏á class ‡πÅ‡∏•‡∏∞ interface ‡∏°‡∏≤‡∏Å‡∏°‡∏≤‡∏¢

## ‚Äç‚Äçüìù Code ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
```
using System;

// Service Interface
interface IImageService
{
    void ShowImage();
}
// Service
class ImageService : IImageService
{
    private string fileName;

    public ImageService(string filePath)
        => loadImageFromDisk(filePath);

    public void ShowImage()
        => Console.WriteLine(fileName);

    private void loadImageFromDisk(string filePath)
        => this.fileName = "Batman";
}
// Proxy
class ImageProxy : IImageService
{
    private ImageService svc;
    private string filePath;

    public ImageProxy(string filePath)
        => this.filePath = filePath;

    public void ShowImage()
    {
        // ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô (pre execution)
        log($"‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: {DateTime.Now}");

        // Lazy Initialization
        if(svc == null) 
        {
            svc = new ImageService(filePath);
        }
        svc.ShowImage();

        // ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πà‡∏≠ (post execution)
        Console.WriteLine("‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏ß‡πà‡∏≤‡∏£‡∏π‡∏õ‡∏ô‡∏µ‡πâ‡πÇ‡∏î‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß");
    }

    private void log(string msg)
        => Console.WriteLine(msg);
}

class Program
{
    static void Main(string[] args)
    {
        IImageService svc = new ImageProxy("c:/porn/japan.png");
        svc.ShowImage();
    }
}
```

**Output**
```
‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: 2/1/19 7:32:10 PM
Batman
‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏ß‡πà‡∏≤‡∏£‡∏π‡∏õ‡∏ô‡∏µ‡πâ‡πÇ‡∏î‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß
```

# Credit
https://refactoring.guru  
You can buy his book by click the image below.  
[![img](https://refactoring.guru/images/patterns/book/web-cover-en.png)](https://refactoring.guru/design-patterns/book#buy-now)  